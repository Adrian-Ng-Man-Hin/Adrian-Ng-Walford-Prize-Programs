import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import numpy as np

def read_coordinates(filename):
    """
    Reads a file containing 3D coordinates in the format 'x, y, z'
    and returns them as numpy arrays.
    """
    try:
        coordinates = np.loadtxt(filename, delimiter=',')
        return coordinates
    except Exception as e:
        print(f"Error reading file: {e}")
        return None

def plot_3d_coordinates(coordinates):
    """
    Plots 3D coordinates using Matplotlib.
    """
    if coordinates is None:
        print("No coordinates to plot.")
        return

    fig = plt.figure()
    ax = fig.add_subplot(111, projection='3d')
    
    # Plotting points
    ax.scatter(coordinates[:, 0], coordinates[:, 1], coordinates[:, 2], c='b', marker='o')
    
    """
    # Connecting points with a line
    ax.plot(coordinates[:, 0], coordinates[:, 1], coordinates[:, 2], c='r')
    """
    #this part was originally generated by ChatGPT along with the other parts, but is no longer needed

    # Setting labels
    ax.set_xlabel('X')
    ax.set_ylabel('Y')
    ax.set_zlabel('Z')
    
    plt.show()

def main():
    # Replace 'path_to_file.txt' with the actual path to your file
    filename = 'path-to-trackpoint.txt'
    
    coordinates = read_coordinates(filename)
    plot_3d_coordinates(coordinates)

if __name__ == "__main__":
    main()
